<!-- snippets/product-stretch-fit-snippet.liquid -->
{% assign stretchlevels = "No stretch|High stretch" | split: "|" %}

<div class="fitness-level full-width">
  <div class="level-heading">
    <svg fill="#999999" height="35" width="35" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 446.519 446.519" xml:space="preserve">
    <path d="M407.295,413.576l-87.036-191.894c-2.799-6.171-8.436-15.562-12.565-20.933l-15.89-20.672
    	c-3.404-4.428-3.865-12.222-1.007-17.021c0.856-1.438,20.995-35.371,22.598-48.449c1.532-12.5,3.047-38.174,3.063-38.432
    	c0.357-6.082,3.773-15.317,7.458-20.167l19.972-26.279c4.341-5.712,7.912-15.053,8.13-21.266c0.117-3.334-1.087-5.306-2.117-6.373
    	C348.581,0.723,346.778,0,344.688,0c-2.021,0-4.185,0.665-6.433,1.977L232.365,63.74c-2.346,1.369-5.665,2.154-9.106,2.154
    	c-3.44,0-6.759-0.785-9.105-2.154L108.264,1.977C106.016,0.665,103.851,0,101.831,0c-2.09,0-3.893,0.723-5.213,2.091
    	c-1.03,1.067-2.233,3.039-2.117,6.373c0.218,6.213,3.789,15.554,8.129,21.266l19.973,26.279c3.686,4.851,7.104,14.086,7.464,20.168
    	c0.014,0.243,1.452,24.423,2.813,36.458c1.534,13.562,22.051,48.852,22.924,50.347c2.819,4.832,2.321,12.66-1.088,17.095
    	l-15.89,20.67c-4.13,5.374-9.767,14.765-12.565,20.933L39.224,413.576c-1.657,3.654-1.584,7.337,0.2,10.105
    	c1.784,2.768,5.108,4.355,9.12,4.355h4.584c6.154,0,15.902,2.52,21.286,5.502l18.539,10.269c3.157,1.749,7.315,2.711,11.708,2.711
    	s8.552-0.963,11.708-2.711l18.539-10.269c2.393-1.326,5.777-2.085,9.286-2.085c3.508,0,6.893,0.76,9.286,2.085l18.539,10.269
    	c3.157,1.749,7.315,2.711,11.709,2.711c4.394,0,8.552-0.963,11.708-2.711l18.539-10.269c2.393-1.326,5.777-2.085,9.286-2.085
    	s6.893,0.76,9.286,2.085l18.539,10.269c3.157,1.749,7.315,2.711,11.708,2.711s8.552-0.963,11.708-2.711l18.539-10.269
    	c2.393-1.326,5.777-2.085,9.286-2.085c3.509,0,6.893,0.76,9.286,2.085l18.539,10.269c3.157,1.749,7.315,2.711,11.708,2.711
    	s8.552-0.963,11.708-2.711l18.539-10.269c5.384-2.982,15.131-5.502,21.286-5.502h4.584c4.012,0,7.336-1.587,9.12-4.355
    	C408.88,420.913,408.952,417.229,407.295,413.576z"/>
    </svg>
    <span class="h4">{{ block.settings.name }}</span>
  </div>
  <div class="level-range-body full-width">
    <div class="level-range type-stretch full-width">
      <span class="range-progress" style="--stretch-range:{{- product.metafields.custom.fabric_stretch_level -}}%"></span>
      <span class="range-ruler"></span>
    </div>
    <div class="level-range-label full-width">
      {% for stretchlevel in stretchlevels %}
        <span class="range-label">{{ stretchlevel }}</span>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .level-range.type-stretch span.range-progress {
      width: var(--stretch-range);
  }
</style>


<!-- snippets/product-garment-fit-snippet.liquid -->

{% assign fitlevels = "Fitted|True Fit|Oversized" | split: "|" %}
{% assign fit_ranges = "0|50|100" | split: "|" %}

<div class="fitness-level full-width">
  <div class="level-heading">
    <svg fill="#999999" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 width="35" height="35" viewBox="0 0 473.001 473" xml:space="preserve"
	>
    <g>
    	<path d="M451.426,315.003c-0.517-0.344-1.855-0.641-2.41-0.889l-201.09-88.884v-28.879c38.25-4.6,57.136-29.835,57.136-62.28
    		c0-35.926-25.283-63.026-59.345-63.026c-35.763,0-65.771,29.481-65.771,64.384c0,6.005,4.973,10.882,10.978,10.882
    		c1.788,0,3.452-0.535,4.934-1.291c3.519-1.808,6.024-5.365,6.024-9.591c0-22.702,20.674-42.62,44.217-42.62
    		c22.003,0,37.982,17.356,37.982,41.262c0,23.523-19.011,41.262-44.925,41.262c-6.005,0-10.356,4.877-10.356,10.882v21.267v21.353
    		c0,0.21-0.421,0.383-0.401,0.593L35.61,320.55C7.181,330.792-2.554,354.095,0.554,371.881
    		c3.194,18.293,18.704,30.074,38.795,30.074H422.26c23.782,0,42.438-12.307,48.683-32.942
    		C477.11,348.683,469.078,326.766,451.426,315.003z M450.115,364.031c-3.452,11.427-13.607,18.8-27.846,18.8H39.349
    		c-9.725,0-16.104-5.394-17.5-13.368c-1.587-9.104,4.265-22.032,21.831-28.42l199.531-94.583l196.844,87.65
    		C449.303,340.717,453.434,353.072,450.115,364.031z"/>
    </g>
    </svg>
    <span class="h4">{{ block.settings.name }}</span>
  </div>
  <div class="level-range-body full-width">
    <div class="level-range full-width">
      <span class="range-progress" style="--garment-range:{% for fitlevel in fitlevels %}{% if fitlevel contains product.metafields.custom.garment_fit_level %}{% assign selectedindex = forloop.index %}{% for fitrange in fit_ranges %}{% if forloop.index == selectedindex %}{{- fitrange -}}{% endif %}{% endfor %}{% endif %}{% endfor %}%"></span>
      <span class="range-ruler"></span>
    </div>
    <div class="level-range-label full-width">
      {% for fitlevel in fitlevels %}
        <span class="range-label">{{ fitlevel }}</span>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .level-range span.range-progress {
      width: var(--garment-range);
  }
</style>

<style>
  .level-range-label {
    display: flex;
    justify-content: space-between;
}
.level-range span.range-ruler {
    display: inline-block;
    width: 100%;
    height: 3px;
    background-color: #c4c3c3;
}
.level-range {
    position: relative;
    display: inline-flex;
}
.level-range span.range-progress:after {
    content: '';
    position: absolute;
    display: inline-block;
    right: -9px;
    width: 18px;
    height: 18px;
    background-color: #000;
    border-radius: 50%;
    top: -7.5px;
    bottom: 0;
}
.level-range-body .level-range {
    margin: 12px 0;
}
.level-range span.range-progress {
    height: 3px;
    position: absolute;
    display: inline-block;
    background-color: #000;
    bottom: 0;
}
.level-heading {
    display: flex;
    align-items: center;
    gap: 10px;
}
.level-range-label span.range-label {
    flex: 1;
    display: flex;
    color: #2f2e2e80;
    letter-spacing: 1px;
}
.level-range-label span.range-label:not(:first-child) { justify-content: center; }
.level-range-label span.range-label:first-child { justify-content: flex-start; }
.level-range-label span.range-label:last-child { justify-content: flex-end; }
</style>


<!-- JSON For placement in section block -->

{
    "type": "garment-fit",
    "name": "Garment Fit",
    "settings": [
      {
        "type": "text",
        "id": "name",
        "label": "Heading",
        "default": "Garment Fit"
      }
    ]
  },
  {
    "type": "stretch-fit",
    "name": "Stretch Fit",
    "settings": [
      {
        "type": "text",
        "id": "name",
        "label": "Heading",
        "default": "Stretch Fit"
      }
    ]
  },